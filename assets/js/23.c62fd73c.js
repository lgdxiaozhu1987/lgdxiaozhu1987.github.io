(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{389:function(t,s,e){"use strict";e.r(s);var a=e(21),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"学习-typescript-实战开发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#学习-typescript-实战开发"}},[t._v("#")]),t._v(" 学习 Typescript 实战开发")]),t._v(" "),e("h2",{attrs:{id:"vscode-配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vscode-配置"}},[t._v("#")]),t._v(" vscode 配置")]),t._v(" "),e("p",[t._v("(1) "),e("strong",[t._v("默认使用单引号")]),t._v(": 在设置中搜索"),e("code",[t._v("quote")]),t._v(", 在"),e("code",[t._v("Quote Style")]),t._v("中选择"),e("code",[t._v("single")]),t._v("."),e("br"),t._v("\n(2) "),e("strong",[t._v("代码缩进为 2 个空格")]),t._v(": 在设置中搜索"),e("code",[t._v("tab")]),t._v(", 在"),e("code",[t._v("Tab Size")]),t._v("中设置为"),e("code",[t._v("2")]),t._v("."),e("br"),t._v("\n(3) "),e("strong",[t._v("代码自动格式化")]),t._v(": 在扩展中搜索并安装"),e("code",[t._v("prettier")]),t._v(", 在设置中搜索"),e("code",[t._v("format on save")]),t._v(", 启用后保存文件会自动格式化代码."),e("br"),t._v(" "),e("img",{attrs:{src:"https://s1.ax1x.com/2020/04/04/G0uHyV.png",alt:"prettier图标"}}),e("br"),t._v("\n(4) "),e("strong",[t._v("在 node 环境直接运行 typescript")]),t._v(": 安装"),e("code",[t._v("ts-node")]),t._v(", 然后直接用"),e("code",[t._v("ts-node [待运行的ts文件]")]),t._v("就可以了.")]),t._v(" "),e("h2",{attrs:{id:"安装依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[t._v("#")]),t._v(" 安装依赖")]),t._v(" "),e("p",[t._v("(1) 本地项目安装 Typescript 和 ts-node，使用"),e("code",[t._v("npm install typescript ts-node -D")]),t._v("进行安装, 在项目中新建"),e("code",[t._v("tsconfig.json")]),t._v("文件进行 ts 项目初始化, 也可以输入"),e("code",[t._v("tsc --init")]),t._v("自动初始化生成配置文件, "),e("code",[t._v("tsconfig.json")]),t._v("文件的基本内容有:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es5"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"module"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commonjs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"strict"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"forceConsistentCasingInFileNames"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v('(2) 在 package 脚本中的"dev"中写上"ts-node ./src/[需要运行的 ts 文件]"')]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("如果是全局安装 Typescript, 则 ts-node 命令会报错")])]),t._v(" "),e("p",[t._v("(3) 安装 superagent 爬取数据, "),e("code",[t._v("npm install superagent")]),t._v(", 由于 ts 直接饮用 js 模块会不知道模块的属性和方法, 因此 IDE 中也无法联想出来. 为了解决这个问题, typescript 中采用了"),e("code",[t._v(".d.ts")]),t._v("为扩展名的扩展文件("),e("em",[t._v("也可以理解成翻译文件")]),t._v(")进行处理. 可以试图使用"),e("code",[t._v("npm install @types/superagent")]),t._v("来安装扩展文件("),e("em",[t._v("在 vscode 中, 把鼠标放到引用的包上去也会有提示")]),t._v("), 一般如果存在 d.ts 文件, 都是以"),e("code",[t._v("@types/[包名称]")]),t._v("进行存储.")]),t._v(" "),e("p",[t._v("安装"),e("a",{attrs:{href:"https://github.com/cheeriojs/cheerio",target:"_blank",rel:"noopener noreferrer"}},[t._v("cheerio"),e("OutboundLink")],1),t._v("进行 html 文件解析, "),e("code",[t._v("npm install cheerio --save")]),t._v(", 并安装相应的"),e("code",[t._v("d.ts")]),t._v("文件, "),e("code",[t._v("npm install @types/cheerio -D")]),t._v(". "),e("code",[t._v("cheerio")]),t._v("用法很简单, 可以按照以前"),e("code",[t._v("jquery")]),t._v("的写法来找到对象, 示例代码如下:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cheerio "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cheerio'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入cheerio包")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" $ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cheerio"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<h2 class=\"title\">Hello world</h2>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 加载html内容, 赋值给$变量")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 利用$进行查找")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h2.title'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("text")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello there!'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'h2'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addClass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'welcome'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示html内容")]),t._v("\n$"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("html")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h2",{attrs:{id:"在-react-项目中使用-typescript"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-react-项目中使用-typescript"}},[t._v("#")]),t._v(" 在 react 项目中使用 Typescript")]),t._v(" "),e("p",[t._v("使用 Typescript 模板安装 react: "),e("code",[t._v("npx create-react-app my-app --template typescript --use-npm")]),t._v(", 命令的意思是: 下载最新的 "),e("code",[t._v("create-react-app")]),t._v(",并且使用"),e("code",[t._v("Typescript")]),t._v("作为模板, 创建"),e("code",[t._v("my-app")]),t._v("的文件夹, 创建完毕后, 使用"),e("code",[t._v("npm")]),t._v("进行安装.")]),t._v(" "),e("p",[t._v("使用类型断言"),e("code",[t._v("!")]),t._v("手动排除"),e("code",[t._v("null")]),t._v("和"),e("code",[t._v("undifined")]),t._v(", 例如将"),e("code",[t._v("frame")]),t._v("改为"),e("code",[t._v("frame!")]),t._v("即可.")])])}),[],!1,null,null,null);s.default=n.exports}}]);